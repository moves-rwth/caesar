"use strict";(self.webpackChunkcaesar_website=self.webpackChunkcaesar_website||[]).push([[9152],{8453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>c});var a=n(6540);const i={},l=a.createContext(i);function t(e){const s=a.useContext(l);return a.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),a.createElement(l.Provider,{value:s},e.children)}},8728:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>r,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>m});const a=JSON.parse('{"id":"proof-rules/unrolling","title":"Loop Unrolling","description":"Loop unrolling and bounded model checking.","source":"@site/docs/proof-rules/unrolling.md","sourceDirName":"proof-rules","slug":"/proof-rules/unrolling","permalink":"/docs/proof-rules/unrolling","draft":false,"unlisted":false,"editUrl":"https://github.com/moves-rwth/caesar/tree/main/website/docs/proof-rules/unrolling.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Loop Unrolling","description":"Loop unrolling and bounded model checking.","sidebar_position":3},"sidebar":"docsSidebar","previous":{"title":"Induction and k-Induction","permalink":"/docs/proof-rules/induction"},"next":{"title":"\u03c9-Invariants","permalink":"/docs/proof-rules/omega-invariants"}}');var i=n(4848),l=n(8453);const t={title:"Loop Unrolling",description:"Loop unrolling and bounded model checking.",sidebar_position:3},c="Loop Unrolling and Bounded Model Checking",r={},m=[{value:"Usage",id:"usage",level:2},{value:"Approximating Loop Semantics",id:"approximation",level:2},{value:"Verification with Loop Unrolling",id:"verification",level:2},{value:"Refutation (Bounded Model Checking)",id:"bounded-model-checking",level:2},{value:"Soundness",id:"soundness",level:2},{value:"Semantics",id:"semantics",level:2},{value:"Completeness",id:"completeness",level:2}];function o(e){const s={a:"a",admonition:"admonition",annotation:"annotation",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",mspace:"mspace",msubsup:"msubsup",mtext:"mtext",ol:"ol",p:"p",pre:"pre",section:"section",semantics:"semantics",span:"span",strong:"strong",sup:"sup",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"loop-unrolling-and-bounded-model-checking",children:"Loop Unrolling and Bounded Model Checking"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.em,{children:"Loop unrolling"})," replaces a ",(0,i.jsx)(s.code,{children:"while"})," loop by a fixed number of iterations ",(0,i.jsx)(s.code,{children:"k"})," and a ",(0,i.jsx)(s.code,{children:"terminator"})," expectation to be used if more than ",(0,i.jsx)(s.code,{children:"k"})," iterations run.\nFor example, it ",(0,i.jsx)(s.em,{children:"under-approximates"})," least fixed-point semantics (",(0,i.jsx)(s.code,{children:"wp"})," and ",(0,i.jsx)(s.code,{children:"ert"}),", ",(0,i.jsx)(s.code,{children:"k = 0"}),"):"]}),"\n",(0,i.jsx)(s.span,{className:"katex-display",children:(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mi,{mathvariant:"normal",children:"v"}),(0,i.jsx)(s.mi,{mathvariant:"normal",children:"c"})]}),(0,i.jsx)(s.mo,{mathvariant:"normal",lspace:"0em",rspace:"0em",children:"\u27e6"}),(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"@unroll(k,"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"0)"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"while"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"G"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"{"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"B"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"}"})]}),(0,i.jsx)(s.mo,{mathvariant:"normal",lspace:"0em",rspace:"0em",children:"\u27e7"}),(0,i.jsx)(s.mo,{children:"\u2291"}),(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mi,{mathvariant:"normal",children:"w"}),(0,i.jsx)(s.mi,{mathvariant:"normal",children:"p"})]}),(0,i.jsx)(s.mo,{mathvariant:"normal",lspace:"0em",rspace:"0em",children:"\u27e6"}),(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"while"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"G"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"{"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"B"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"}"})]}),(0,i.jsx)(s.mo,{mathvariant:"normal",lspace:"0em",rspace:"0em",children:"\u27e7"})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"    \\mathrm{vc}\\llbracket \\texttt{@unroll(k, 0) while G \\{ B \\}} \\rrbracket \\sqsubseteq \\mathrm{wp}\\llbracket \\texttt{while G \\{ B \\}} \\rrbracket"})]})})}),(0,i.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(s.span,{className:"mord",children:(0,i.jsx)(s.span,{className:"mord mathrm",children:"vc"})}),(0,i.jsxs)(s.span,{className:"mopen",children:[(0,i.jsx)(s.span,{className:"mopen",children:"["}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"-0.1778em"}}),(0,i.jsx)(s.span,{className:"mopen",children:"["})]}),(0,i.jsx)(s.span,{className:"mord text",children:(0,i.jsx)(s.span,{className:"mord texttt",children:"@unroll(k,\xa00)\xa0while\xa0G\xa0{\xa0B\xa0}"})}),(0,i.jsxs)(s.span,{className:"mclose",children:[(0,i.jsx)(s.span,{className:"mclose",children:"]"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"-0.1778em"}}),(0,i.jsx)(s.span,{className:"mclose",children:"]"})]}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(s.span,{className:"mrel",children:"\u2291"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(s.span,{className:"mord",children:(0,i.jsx)(s.span,{className:"mord mathrm",children:"wp"})}),(0,i.jsxs)(s.span,{className:"mopen",children:[(0,i.jsx)(s.span,{className:"mopen",children:"["}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"-0.1778em"}}),(0,i.jsx)(s.span,{className:"mopen",children:"["})]}),(0,i.jsx)(s.span,{className:"mord text",children:(0,i.jsx)(s.span,{className:"mord texttt",children:"while\xa0G\xa0{\xa0B\xa0}"})}),(0,i.jsxs)(s.span,{className:"mclose",children:[(0,i.jsx)(s.span,{className:"mclose",children:"]"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"-0.1778em"}}),(0,i.jsx)(s.span,{className:"mclose",children:"]"})]})]})]})]})}),"\n",(0,i.jsx)(s.p,{children:"This simple proof rule does not require invariants, just a choice of how many loop iterations to be done."}),"\n",(0,i.jsx)(s.p,{children:"There are three main applications of loop unrolling:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"#approximation",children:(0,i.jsx)(s.strong,{children:"Approximating loop semantics"})}),": Approximating the expected value of loops to gain insight into the unbounded semantics."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"#verification",children:(0,i.jsx)(s.strong,{children:"Verification"})}),": Proving specifications of loops."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"#bounded-model-checking",children:(0,i.jsx)(s.strong,{children:"Refutation"})}),": Refuting specifications of loops. This is often called ",(0,i.jsx)(s.em,{children:"bounded model checking"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Read the ",(0,i.jsxs)(s.a,{href:"#soundness",children:[(0,i.jsx)(s.em,{children:"Soundness"})," section"]})," for details on the soundness of the proof rule."]}),"\n",(0,i.jsx)(s.admonition,{title:"Relation to Probabilistic Model Checking (Bounded)",type:"note",children:(0,i.jsxs)(s.p,{children:[(0,i.jsxs)(s.a,{href:"/docs/model-checking",children:["Caesar supports using ",(0,i.jsx)(s.em,{children:"probabilistic model checking"})]})," to compute and verify expected values of probabilistic programs.\nFor probabilistic model checking, one would bound the ",(0,i.jsx)(s.em,{children:"number of explored states"})," as opposed to the ",(0,i.jsx)(s.em,{children:"number of loop iterations"})," like is done here.\nBoth techniques are related, but ",(0,i.jsx)(s.a,{href:"/docs/model-checking#relation-to-caesars-unrolling-proof-rule",children:"we explain the difference between applying the two techniques in more detail here"}),"."]})}),"\n",(0,i.jsx)(s.h2,{id:"usage",children:"Usage"}),"\n",(0,i.jsxs)(s.p,{children:["A ",(0,i.jsx)(s.code,{children:"while"})," loop is annotated by the ",(0,i.jsx)(s.code,{children:"@unroll(k, terminator)"})," annotation where ",(0,i.jsx)(s.code,{children:"k"})," is a number literal and ",(0,i.jsx)(s.code,{children:"terminator"})," is an expression of type ",(0,i.jsx)(s.code,{children:"EUReal"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"terminator"})," expression must correspond to the initial value of the fixed-point iteration semantics of the loop.\nBy ",(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Kleene_fixed-point_theorem",children:"Kleene's fixed-point theorem"}),", one should use the following values for ",(0,i.jsx)(s.code,{children:"terminator"}),":"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["For ",(0,i.jsx)(s.em,{children:"greatest fixed-point semantics"})," (",(0,i.jsx)(s.code,{children:"wlp"}),"), one chooses the ",(0,i.jsx)(s.em,{children:"top"})," element of the lattice:","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"1"})," for the one-bounded wlp semantics,"]}),"\n",(0,i.jsxs)(s.li,{children:["or ",(0,i.jsx)(s.code,{children:"\\infty"})," for the unbounded expectation-based semantics."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["For ",(0,i.jsx)(s.em,{children:"least fixed-point semantics"})," (",(0,i.jsx)(s.code,{children:"wp"}),", ",(0,i.jsx)(s.code,{children:"ert"}),"), one chooses the ",(0,i.jsx)(s.em,{children:"bottom"})," element of the lattice:","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"0"})," for expectation-based semantics (wp, ert)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"approximation",children:"Approximating Loop Semantics"}),"\n",(0,i.jsxs)(s.p,{children:["Loop unrolling can be used to ",(0,i.jsx)(s.em,{children:"approximate"})," expected value semantics of a loop to gain insight into the actual semantics."]}),"\n",(0,i.jsxs)(s.p,{children:["The idea is to have Caesar to ",(0,i.jsx)(s.em,{children:"calculate"})," the expected value of the loop after a fixed number of iterations.\nAs the unrolling approaches the true semantics as ",(0,i.jsx)(s.code,{children:"k"})," increases, we can use this to e.g. guess the expected value after an unbounded number of iterations.\nThis might help to find e.g. an ",(0,i.jsx)(s.a,{href:"/docs/proof-rules/induction",children:"inductive invariant"})," for the loop.\nIn contrast to the applications of ",(0,i.jsx)(s.a,{href:"#verification",children:"verification"})," and ",(0,i.jsx)(s.a,{href:"#bounded-model-checking",children:"refutation"}),", unrolling for approximations does not require a ",(0,i.jsx)(s.code,{children:"pre"}),", but just a ",(0,i.jsx)(s.code,{children:"post"})," expectation."]}),"\n",(0,i.jsxs)(s.p,{children:["Consider this simple geometric loop example.\nWe want to encode a loop with ",(0,i.jsx)(s.code,{children:"wp"})," semantics, so we use ",(0,i.jsx)(s.code,{children:"0"})," as our ",(0,i.jsx)(s.code,{children:"terminator"}),"."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-heyvl",children:"@wp proc geo1_unroll() -> (c: UInt)\n    pre \\infty\n    post 1\n{\n    c = 0\n    var cont: Bool = true\n    @unroll(3, 0) // k = 3, terminator = 0\n    while cont {\n        var prob_choice: Bool = flip(0.5)\n        if prob_choice { cont = false } else { c = c + 1 }\n    }\n}\n"})}),"\n",(0,i.jsxs)(s.p,{children:["By using ",(0,i.jsx)(s.code,{children:"pre \\infty"}),', we ensure that Caesar will print a counter-example for (non-infinite) values of the pre.\nCaesar will show a counter-example with an evaluation ("the pre-quantity evaluated to:") when we run it.\nWe can evaluate different values for ',(0,i.jsx)(s.code,{children:"k"})," to see how the expected value of ",(0,i.jsx)(s.code,{children:"c"})," changes after more iterations."]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["For ",(0,i.jsx)(s.code,{children:"k = 0"}),", the expected value is ",(0,i.jsx)(s.code,{children:"0"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["For ",(0,i.jsx)(s.code,{children:"k = 1"}),", the expected value is ",(0,i.jsx)(s.code,{children:"0"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["For ",(0,i.jsx)(s.code,{children:"k = 2"}),", the expected value is ",(0,i.jsx)(s.code,{children:"0.5"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["For ",(0,i.jsx)(s.code,{children:"k = 3"}),", the expected value is ",(0,i.jsx)(s.code,{children:"0.75"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["For ",(0,i.jsx)(s.code,{children:"k = 4"}),", the expected value is ",(0,i.jsx)(s.code,{children:"0.875"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["This sequence is a consequence of the definition of the fixed-point semantics and the corresponding fixed-point iteration.\nWe can guess (and it is true) that the expected value will eventually converge to ",(0,i.jsx)(s.code,{children:"1"})," as ",(0,i.jsx)(s.code,{children:"k"})," approaches infinity."]}),"\n",(0,i.jsx)(s.h2,{id:"verification",children:"Verification with Loop Unrolling"}),"\n",(0,i.jsxs)(s.p,{children:["Loop unrolling can be used to ",(0,i.jsx)(s.em,{children:"prove"})," specifications of loops.\nWe modified the above example to show a ",(0,i.jsx)(s.em,{children:"lower bound"})," of ",(0,i.jsx)(s.code,{children:"0.75"})," on the probability value of termination in at most 3 unrollings of the loop."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-heyvl",children:"@wp proc geo1_unroll() -> (c: UInt)\n    pre 0.75\n    post 1\n{\n    c = 0\n    var cont: Bool = true\n    @unroll(3, 0) // k = 3, terminator = 0\n    while cont {\n        var prob_choice: Bool = flip(0.5)\n        if prob_choice { cont = false } else { c = c + 1 }\n    }\n}\n"})}),"\n",(0,i.jsxs)(s.p,{children:["For ",(0,i.jsx)(s.em,{children:"verification"}),", the following combinations are sound.\nMore details can be found in the ",(0,i.jsxs)(s.a,{href:"#soundness",children:[(0,i.jsx)(s.em,{children:"Soundness"})," section"]}),"."]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["For ",(0,i.jsx)(s.code,{children:"wlp"}),", use ",(0,i.jsx)(s.code,{children:"@unroll(k, 1)"})," in a ",(0,i.jsx)(s.code,{children:"coproc"})," to verify upper bounds on the greatest fixed-point semantics."]}),"\n",(0,i.jsxs)(s.li,{children:["For ",(0,i.jsx)(s.code,{children:"wp"})," and ",(0,i.jsx)(s.code,{children:"ert"}),", use ",(0,i.jsx)(s.code,{children:"@unroll(k, 0)"})," in a ",(0,i.jsx)(s.code,{children:"proc"})," to verify lower bounds on the least fixed-point semantics."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["A ",(0,i.jsx)(s.em,{children:"counter-example"})," from Caesar to verification will only be a counter-example for the ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsx)(s.mrow,{children:(0,i.jsx)(s.mi,{children:"k"})}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"k"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6944em"}}),(0,i.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03148em"},children:"k"})]})})]}),"-unrolled program, but not for the original program."]}),"\n",(0,i.jsx)(s.admonition,{type:"tip",children:(0,i.jsxs)(s.p,{children:["Use the ",(0,i.jsx)(s.a,{href:"/docs/proof-rules/calculi",children:"calculus annotations"})," ",(0,i.jsx)(s.code,{children:"@wp"}),", ",(0,i.jsx)(s.code,{children:"@wlp"}),", ",(0,i.jsx)(s.code,{children:"@ert"})," to have Caesar check you apply the ",(0,i.jsx)(s.code,{children:"unroll"})," proof correctly to ",(0,i.jsx)(s.em,{children:"verify"})," a specification."]})}),"\n",(0,i.jsx)(s.h2,{id:"bounded-model-checking",children:"Refutation (Bounded Model Checking)"}),"\n",(0,i.jsxs)(s.p,{children:["Loop unrolling is often used to ",(0,i.jsx)(s.em,{children:"refute"})," specifications as well.\nThis is done because it is a simple way to ",(0,i.jsx)(s.em,{children:"unroll"})," a loop and then check the specification can be refuted already after a fixed number of iterations.\nThis is in contrast to e.g. the ",(0,i.jsx)(s.a,{href:"/docs/proof-rules/induction",children:"induction proof rule"}),", which requires an inductive invariant to be specified to refute specifications properly.\nWhen used for refutations, this technique is often called ",(0,i.jsx)(s.em,{children:"bounded model checking"})," (BMC)."]}),"\n",(0,i.jsxs)(s.p,{children:["In the following example, we use loop unrolling to refute an upper bound (",(0,i.jsx)(s.code,{children:"coproc"}),") of ",(0,i.jsx)(s.em,{children:"least fixed-point semantics"})," (",(0,i.jsx)(s.code,{children:"wp"}),").\nBecause we want to approximate least fixpoint semantics, we use ",(0,i.jsx)(s.code,{children:"0"})," as our ",(0,i.jsx)(s.code,{children:"terminator"})," (c.f. ",(0,i.jsx)(s.a,{href:"#usage",children:(0,i.jsx)(s.em,{children:"Usage"})}),")."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-heyvl",children:"coproc geo1_bmc(init_c: UInt) -> (c: UInt)\n    pre init_c + 0.99\n    post c\n{\n    c = init_c\n    var cont: Bool = true\n    @unroll(12, 0) // k = 12, terminator = 0\n    while cont {\n        var prob_choice: Bool = flip(0.5)\n        if prob_choice { cont = false } else { c = c + 1 }\n    }\n}\n"})}),"\n",(0,i.jsxs)(s.p,{children:["Trying to verify ",(0,i.jsx)(s.code,{children:"geo1_unroll"})," will yield a counter-example to verification.\nIt is a ",(0,i.jsx)(s.em,{children:"true counter-example"})," to ",(0,i.jsx)(s.code,{children:"init_c + 0.99"})," being an upper bound for the original program."]}),"\n",(0,i.jsxs)(s.p,{children:["The following combinations are sound for ",(0,i.jsx)(s.em,{children:"refutations"}),".\nMore details can be found in the ",(0,i.jsxs)(s.a,{href:"#soundness",children:[(0,i.jsx)(s.em,{children:"Soundness"})," section"]}),"."]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["For ",(0,i.jsx)(s.code,{children:"wlp"}),", use ",(0,i.jsx)(s.code,{children:"@unroll(k, 1)"})," in a ",(0,i.jsx)(s.code,{children:"proc"})," to refute a lower bound on the greatest fixed-point semantics."]}),"\n",(0,i.jsxs)(s.li,{children:["For ",(0,i.jsx)(s.code,{children:"wp"}),", use ",(0,i.jsx)(s.code,{children:"@unroll(k, 0)"})," in a ",(0,i.jsx)(s.code,{children:"coproc"})," to refute an upper bound on the least fixed-point semantics."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["If the program ",(0,i.jsx)(s.em,{children:"verifies"})," in the above cases, we do not know whether the specification holds for the original semantics.\nFor example, the example program above verifies if you change ",(0,i.jsx)(s.code,{children:"k = 11"}),"; however this gives you no guarantee that the original program ",(0,i.jsx)(s.code,{children:"geo1_unroll"})," satisfies the specification."]}),"\n",(0,i.jsx)(s.admonition,{type:"info",children:(0,i.jsxs)(s.p,{children:["At the moment, the ",(0,i.jsx)(s.a,{href:"/docs/proof-rules/calculi",children:"calculus annotations"})," ",(0,i.jsx)(s.code,{children:"@wlp"}),", ",(0,i.jsx)(s.code,{children:"@wp"}),", ",(0,i.jsx)(s.code,{children:"@ert"})," do not support the use of ",(0,i.jsx)(s.code,{children:"@unroll"})," for refutations.\nThey currently require soundness for verification only, therefore they currently can not be used to check the soundness of a refutation."]})}),"\n",(0,i.jsx)(s.h2,{id:"soundness",children:"Soundness"}),"\n",(0,i.jsx)(s.p,{children:"By Kleene's fixed-point theorem, the following soundness conditions hold:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mi,{mathvariant:"normal",children:"v"}),(0,i.jsx)(s.mi,{mathvariant:"normal",children:"c"})]}),(0,i.jsx)(s.mo,{mathvariant:"normal",lspace:"0em",rspace:"0em",children:"\u27e6"}),(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"@unroll(k,"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"1)"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"while"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"G"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"{"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"B"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"}"})]}),(0,i.jsx)(s.mo,{mathvariant:"normal",lspace:"0em",rspace:"0em",children:"\u27e7"}),(0,i.jsx)(s.mo,{children:"\u2292"}),(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mi,{mathvariant:"normal",children:"w"}),(0,i.jsx)(s.mi,{mathvariant:"normal",children:"l"}),(0,i.jsx)(s.mi,{mathvariant:"normal",children:"p"})]}),(0,i.jsx)(s.mo,{mathvariant:"normal",lspace:"0em",rspace:"0em",children:"\u27e6"}),(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"while"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"G"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"{"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"B"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"}"})]}),(0,i.jsx)(s.mo,{mathvariant:"normal",lspace:"0em",rspace:"0em",children:"\u27e7"})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\mathrm{vc}\\llbracket \\texttt{@unroll(k, 1) while G \\{ B \\}} \\rrbracket \\sqsupseteq \\mathrm{wlp}\\llbracket \\texttt{while G \\{ B \\}} \\rrbracket"})]})})}),(0,i.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(s.span,{className:"mord",children:(0,i.jsx)(s.span,{className:"mord mathrm",children:"vc"})}),(0,i.jsxs)(s.span,{className:"mopen",children:[(0,i.jsx)(s.span,{className:"mopen",children:"["}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"-0.1778em"}}),(0,i.jsx)(s.span,{className:"mopen",children:"["})]}),(0,i.jsx)(s.span,{className:"mord text",children:(0,i.jsx)(s.span,{className:"mord texttt",children:"@unroll(k,\xa01)\xa0while\xa0G\xa0{\xa0B\xa0}"})}),(0,i.jsxs)(s.span,{className:"mclose",children:[(0,i.jsx)(s.span,{className:"mclose",children:"]"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"-0.1778em"}}),(0,i.jsx)(s.span,{className:"mclose",children:"]"})]}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(s.span,{className:"mrel",children:"\u2292"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(s.span,{className:"mord",children:(0,i.jsx)(s.span,{className:"mord mathrm",children:"wlp"})}),(0,i.jsxs)(s.span,{className:"mopen",children:[(0,i.jsx)(s.span,{className:"mopen",children:"["}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"-0.1778em"}}),(0,i.jsx)(s.span,{className:"mopen",children:"["})]}),(0,i.jsx)(s.span,{className:"mord text",children:(0,i.jsx)(s.span,{className:"mord texttt",children:"while\xa0G\xa0{\xa0B\xa0}"})}),(0,i.jsxs)(s.span,{className:"mclose",children:[(0,i.jsx)(s.span,{className:"mclose",children:"]"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"-0.1778em"}}),(0,i.jsx)(s.span,{className:"mclose",children:"]"})]})]})]})]})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mi,{mathvariant:"normal",children:"v"}),(0,i.jsx)(s.mi,{mathvariant:"normal",children:"c"})]}),(0,i.jsx)(s.mo,{mathvariant:"normal",lspace:"0em",rspace:"0em",children:"\u27e6"}),(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"@unroll(k,"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"0)"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"while"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"G"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"{"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"B"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"}"})]}),(0,i.jsx)(s.mo,{mathvariant:"normal",lspace:"0em",rspace:"0em",children:"\u27e7"}),(0,i.jsx)(s.mo,{children:"\u2291"}),(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mi,{mathvariant:"normal",children:"w"}),(0,i.jsx)(s.mi,{mathvariant:"normal",children:"p"})]}),(0,i.jsx)(s.mo,{mathvariant:"normal",lspace:"0em",rspace:"0em",children:"\u27e6"}),(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"while"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"G"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"{"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"B"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"}"})]}),(0,i.jsx)(s.mo,{mathvariant:"normal",lspace:"0em",rspace:"0em",children:"\u27e7"})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\mathrm{vc}\\llbracket \\texttt{@unroll(k, 0) while G \\{ B \\}} \\rrbracket \\sqsubseteq \\mathrm{wp}\\llbracket \\texttt{while G \\{ B \\}} \\rrbracket"})]})})}),(0,i.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(s.span,{className:"mord",children:(0,i.jsx)(s.span,{className:"mord mathrm",children:"vc"})}),(0,i.jsxs)(s.span,{className:"mopen",children:[(0,i.jsx)(s.span,{className:"mopen",children:"["}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"-0.1778em"}}),(0,i.jsx)(s.span,{className:"mopen",children:"["})]}),(0,i.jsx)(s.span,{className:"mord text",children:(0,i.jsx)(s.span,{className:"mord texttt",children:"@unroll(k,\xa00)\xa0while\xa0G\xa0{\xa0B\xa0}"})}),(0,i.jsxs)(s.span,{className:"mclose",children:[(0,i.jsx)(s.span,{className:"mclose",children:"]"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"-0.1778em"}}),(0,i.jsx)(s.span,{className:"mclose",children:"]"})]}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(s.span,{className:"mrel",children:"\u2291"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(s.span,{className:"mord",children:(0,i.jsx)(s.span,{className:"mord mathrm",children:"wp"})}),(0,i.jsxs)(s.span,{className:"mopen",children:[(0,i.jsx)(s.span,{className:"mopen",children:"["}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"-0.1778em"}}),(0,i.jsx)(s.span,{className:"mopen",children:"["})]}),(0,i.jsx)(s.span,{className:"mord text",children:(0,i.jsx)(s.span,{className:"mord texttt",children:"while\xa0G\xa0{\xa0B\xa0}"})}),(0,i.jsxs)(s.span,{className:"mclose",children:[(0,i.jsx)(s.span,{className:"mclose",children:"]"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"-0.1778em"}}),(0,i.jsx)(s.span,{className:"mclose",children:"]"})]})]})]})]})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mi,{mathvariant:"normal",children:"v"}),(0,i.jsx)(s.mi,{mathvariant:"normal",children:"c"})]}),(0,i.jsx)(s.mo,{mathvariant:"normal",lspace:"0em",rspace:"0em",children:"\u27e6"}),(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"@unroll(k,"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"0)"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"while"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"G"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"{"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"B"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"}"})]}),(0,i.jsx)(s.mo,{mathvariant:"normal",lspace:"0em",rspace:"0em",children:"\u27e7"}),(0,i.jsx)(s.mo,{children:"\u2291"}),(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mi,{mathvariant:"normal",children:"e"}),(0,i.jsx)(s.mi,{mathvariant:"normal",children:"r"}),(0,i.jsx)(s.mi,{mathvariant:"normal",children:"t"})]}),(0,i.jsx)(s.mo,{mathvariant:"normal",lspace:"0em",rspace:"0em",children:"\u27e6"}),(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"while"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"G"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"{"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"B"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"}"})]}),(0,i.jsx)(s.mo,{mathvariant:"normal",lspace:"0em",rspace:"0em",children:"\u27e7"})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\mathrm{vc}\\llbracket \\texttt{@unroll(k, 0) while G \\{ B \\}} \\rrbracket \\sqsubseteq \\mathrm{ert}\\llbracket \\texttt{while G \\{ B \\}} \\rrbracket"})]})})}),(0,i.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(s.span,{className:"mord",children:(0,i.jsx)(s.span,{className:"mord mathrm",children:"vc"})}),(0,i.jsxs)(s.span,{className:"mopen",children:[(0,i.jsx)(s.span,{className:"mopen",children:"["}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"-0.1778em"}}),(0,i.jsx)(s.span,{className:"mopen",children:"["})]}),(0,i.jsx)(s.span,{className:"mord text",children:(0,i.jsx)(s.span,{className:"mord texttt",children:"@unroll(k,\xa00)\xa0while\xa0G\xa0{\xa0B\xa0}"})}),(0,i.jsxs)(s.span,{className:"mclose",children:[(0,i.jsx)(s.span,{className:"mclose",children:"]"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"-0.1778em"}}),(0,i.jsx)(s.span,{className:"mclose",children:"]"})]}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(s.span,{className:"mrel",children:"\u2291"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(s.span,{className:"mord",children:(0,i.jsx)(s.span,{className:"mord mathrm",children:"ert"})}),(0,i.jsxs)(s.span,{className:"mopen",children:[(0,i.jsx)(s.span,{className:"mopen",children:"["}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"-0.1778em"}}),(0,i.jsx)(s.span,{className:"mopen",children:"["})]}),(0,i.jsx)(s.span,{className:"mord text",children:(0,i.jsx)(s.span,{className:"mord texttt",children:"while\xa0G\xa0{\xa0B\xa0}"})}),(0,i.jsxs)(s.span,{className:"mclose",children:[(0,i.jsx)(s.span,{className:"mclose",children:"]"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"-0.1778em"}}),(0,i.jsx)(s.span,{className:"mclose",children:"]"})]})]})]})]})}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["For ",(0,i.jsx)(s.a,{href:"#verification",children:"the application of verification"}),", this means:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"proc"})," verifies using ",(0,i.jsx)(s.code,{children:"@unroll(k, 1)"})," ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mtext,{children:"\u2005\u200a"}),(0,i.jsx)(s.mo,{children:"\u27f9"}),(0,i.jsx)(s.mtext,{children:"\u2005\u200a"})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\implies"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.549em",verticalAlign:"-0.024em"}}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(s.span,{className:"mrel",children:"\u27f9"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]})})]})," specification also holds for the original ",(0,i.jsx)(s.code,{children:"wlp"})," semantics."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"coproc"})," verifies using ",(0,i.jsx)(s.code,{children:"@unroll(k, 0)"})," ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mtext,{children:"\u2005\u200a"}),(0,i.jsx)(s.mo,{children:"\u27f9"}),(0,i.jsx)(s.mtext,{children:"\u2005\u200a"})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\implies"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.549em",verticalAlign:"-0.024em"}}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(s.span,{className:"mrel",children:"\u27f9"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]})})]})," specification also holds for the original ",(0,i.jsx)(s.code,{children:"wp"})," semantics."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"coproc"})," verifies using ",(0,i.jsx)(s.code,{children:"@unroll(k, 0)"})," ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mtext,{children:"\u2005\u200a"}),(0,i.jsx)(s.mo,{children:"\u27f9"}),(0,i.jsx)(s.mtext,{children:"\u2005\u200a"})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\implies"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.549em",verticalAlign:"-0.024em"}}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(s.span,{className:"mrel",children:"\u27f9"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]})})]})," specification also holds for the original ",(0,i.jsx)(s.code,{children:"ert"})," semantics."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["For ",(0,i.jsx)(s.a,{href:"#bounded-model-checking",children:"the application of refutation (bounded model checking)"}),", this means:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"coproc"})," refutes using ",(0,i.jsx)(s.code,{children:"@unroll(k, 1)"})," ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mtext,{children:"\u2005\u200a"}),(0,i.jsx)(s.mo,{children:"\u27f9"}),(0,i.jsx)(s.mtext,{children:"\u2005\u200a"})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\implies"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.549em",verticalAlign:"-0.024em"}}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(s.span,{className:"mrel",children:"\u27f9"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]})})]})," specification does not hold for the original ",(0,i.jsx)(s.code,{children:"wlp"})," semantics."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"proc"})," refutes using ",(0,i.jsx)(s.code,{children:"@unroll(k, 0)"})," ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mtext,{children:"\u2005\u200a"}),(0,i.jsx)(s.mo,{children:"\u27f9"}),(0,i.jsx)(s.mtext,{children:"\u2005\u200a"})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\implies"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.549em",verticalAlign:"-0.024em"}}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(s.span,{className:"mrel",children:"\u27f9"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]})})]})," specification does not hold for the original ",(0,i.jsx)(s.code,{children:"wp"})," semantics."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"proc"})," refutes using ",(0,i.jsx)(s.code,{children:"@unroll(k, 0)"})," ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mtext,{children:"\u2005\u200a"}),(0,i.jsx)(s.mo,{children:"\u27f9"}),(0,i.jsx)(s.mtext,{children:"\u2005\u200a"})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\implies"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.549em",verticalAlign:"-0.024em"}}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(s.span,{className:"mrel",children:"\u27f9"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]})})]})," specification does not hold for the original ",(0,i.jsx)(s.code,{children:"ert"})," semantics."]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"semantics",children:"Semantics"}),"\n",(0,i.jsxs)(s.p,{children:["An annotated loop ",(0,i.jsx)(s.code,{children:"@unroll(k, terminator) while G { B }"}),", is replaced its ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsx)(s.mrow,{children:(0,i.jsx)(s.mi,{children:"k"})}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"k"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6944em"}}),(0,i.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03148em"},children:"k"})]})})]}),"-step unfolding.\nBelow, we show ",(0,i.jsx)(s.code,{children:"k = 3"})," unfoldings.\nThe ",(0,i.jsx)(s.code,{children:"terminator"})," is encoded by a ",(0,i.jsx)(s.code,{children:"assert 0; assume 0"})," at the end of the ",(0,i.jsx)(s.code,{children:"k = 3"})," loop iterations."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-heyvl",children:"if cont {\n    ... body ...\n    if cont {\n        ... body ...\n        if cont {\n            ... body ...\n            assert 0; assume 0 // terminator = 0\n        } else {}\n    } else {}\n} else {}\n"})}),"\n",(0,i.jsxs)(s.p,{children:["In terms of expectation transformer semantics (",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mi,{mathvariant:"normal",children:"v"}),(0,i.jsx)(s.mi,{mathvariant:"normal",children:"c"})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\mathrm{vc}"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.4306em"}}),(0,i.jsx)(s.span,{className:"mord",children:(0,i.jsx)(s.span,{className:"mord mathrm",children:"vc"})})]})})]}),") with respect to postexpectation ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsx)(s.mrow,{children:(0,i.jsx)(s.mi,{children:"f"})}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"f"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),(0,i.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"},children:"f"})]})})]}),", the proof rule corresponds to the ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsx)(s.mrow,{children:(0,i.jsx)(s.mi,{children:"k"})}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"k"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6944em"}}),(0,i.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03148em"},children:"k"})]})})]}),"-times application of the loop-characteristic function applied to the ",(0,i.jsx)(s.code,{children:"terminator"})," ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsx)(s.mrow,{children:(0,i.jsx)(s.mn,{children:"0"})}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"0"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6444em"}}),(0,i.jsx)(s.span,{className:"mord",children:"0"})]})})]}),", ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsxs)(s.msubsup,{children:[(0,i.jsx)(s.mi,{mathvariant:"normal",children:"\u03a6"}),(0,i.jsx)(s.mi,{children:"f"}),(0,i.jsx)(s.mi,{children:"k"})]}),(0,i.jsx)(s.mo,{stretchy:"false",children:"("}),(0,i.jsx)(s.mn,{children:"0"}),(0,i.jsx)(s.mo,{stretchy:"false",children:")"})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\Phi_f^k(0)"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"1.2683em",verticalAlign:"-0.4192em"}}),(0,i.jsxs)(s.span,{className:"mord",children:[(0,i.jsx)(s.span,{className:"mord",children:"\u03a6"}),(0,i.jsx)(s.span,{className:"msupsub",children:(0,i.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(s.span,{className:"vlist-r",children:[(0,i.jsxs)(s.span,{className:"vlist",style:{height:"0.8491em"},children:[(0,i.jsxs)(s.span,{style:{top:"-2.4169em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mathnormal mtight",style:{marginRight:"0.10764em"},children:"f"})})]}),(0,i.jsxs)(s.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03148em"},children:"k"})})]})]}),(0,i.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.4192em"},children:(0,i.jsx)(s.span,{})})})]})})]}),(0,i.jsx)(s.span,{className:"mopen",children:"("}),(0,i.jsx)(s.span,{className:"mord",children:"0"}),(0,i.jsx)(s.span,{className:"mclose",children:")"})]})})]}),":"]}),"\n",(0,i.jsx)(s.span,{className:"katex-display",children:(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mi,{mathvariant:"normal",children:"v"}),(0,i.jsx)(s.mi,{mathvariant:"normal",children:"c"})]}),(0,i.jsx)(s.mo,{mathvariant:"normal",lspace:"0em",rspace:"0em",children:"\u27e6"}),(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"@unroll(k,"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"0)"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"while"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"G"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"{"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"B"}),(0,i.jsx)(s.mtext,{children:"\xa0"}),(0,i.jsx)(s.mtext,{mathvariant:"monospace",children:"}"})]}),(0,i.jsx)(s.mo,{mathvariant:"normal",lspace:"0em",rspace:"0em",children:"\u27e7"}),(0,i.jsx)(s.mspace,{width:"1em"}),(0,i.jsx)(s.mo,{children:"="}),(0,i.jsx)(s.mspace,{width:"1em"}),(0,i.jsxs)(s.msubsup,{children:[(0,i.jsx)(s.mi,{mathvariant:"normal",children:"\u03a6"}),(0,i.jsx)(s.mi,{children:"f"}),(0,i.jsx)(s.mi,{children:"k"})]}),(0,i.jsx)(s.mo,{stretchy:"false",children:"("}),(0,i.jsx)(s.mn,{children:"0"}),(0,i.jsx)(s.mo,{stretchy:"false",children:")"})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"    \\mathrm{vc}\\llbracket \\texttt{@unroll(k, 0) while G \\{ B \\}} \\rrbracket \\quad=\\quad \\Phi_f^k(0)"})]})})}),(0,i.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(s.span,{className:"mord",children:(0,i.jsx)(s.span,{className:"mord mathrm",children:"vc"})}),(0,i.jsxs)(s.span,{className:"mopen",children:[(0,i.jsx)(s.span,{className:"mopen",children:"["}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"-0.1778em"}}),(0,i.jsx)(s.span,{className:"mopen",children:"["})]}),(0,i.jsx)(s.span,{className:"mord text",children:(0,i.jsx)(s.span,{className:"mord texttt",children:"@unroll(k,\xa00)\xa0while\xa0G\xa0{\xa0B\xa0}"})}),(0,i.jsxs)(s.span,{className:"mclose",children:[(0,i.jsx)(s.span,{className:"mclose",children:"]"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"-0.1778em"}}),(0,i.jsx)(s.span,{className:"mclose",children:"]"})]}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"1em"}}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(s.span,{className:"mrel",children:"="}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"1em"}}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"1.2822em",verticalAlign:"-0.3831em"}}),(0,i.jsxs)(s.span,{className:"mord",children:[(0,i.jsx)(s.span,{className:"mord",children:"\u03a6"}),(0,i.jsx)(s.span,{className:"msupsub",children:(0,i.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(s.span,{className:"vlist-r",children:[(0,i.jsxs)(s.span,{className:"vlist",style:{height:"0.8991em"},children:[(0,i.jsxs)(s.span,{style:{top:"-2.453em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mathnormal mtight",style:{marginRight:"0.10764em"},children:"f"})})]}),(0,i.jsxs)(s.span,{style:{top:"-3.113em",marginRight:"0.05em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03148em"},children:"k"})})]})]}),(0,i.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.3831em"},children:(0,i.jsx)(s.span,{})})})]})})]}),(0,i.jsx)(s.span,{className:"mopen",children:"("}),(0,i.jsx)(s.span,{className:"mord",children:"0"}),(0,i.jsx)(s.span,{className:"mclose",children:")"})]})]})]})}),"\n",(0,i.jsx)(s.h2,{id:"completeness",children:"Completeness"}),"\n",(0,i.jsxs)(s.p,{children:["Loop unrolling is ",(0,i.jsx)(s.em,{children:"not compelete"})," for ",(0,i.jsx)(s.em,{children:"proving"})," specifications.\nThis is because there are programs for which the actual semantics of the loop is not captured by the unrolling.\nA simple example is a loop that counts down a counter variable ",(0,i.jsx)(s.code,{children:"c"})," in each iteration.\nAny unrolling of size ",(0,i.jsx)(s.code,{children:"k"})," will not capture the semantics of the loop if ",(0,i.jsx)(s.code,{children:"c"})," is larger than ",(0,i.jsx)(s.code,{children:"k"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["However, loop unrolling is ",(0,i.jsx)(s.em,{children:"complete"})," for ",(0,i.jsx)(s.em,{children:"refuting"})," specifications when the semantics is ",(0,i.jsx)(s.em,{children:"continuous"}),".\nThis is the case for the ",(0,i.jsx)(s.code,{children:"wlp"}),", ",(0,i.jsx)(s.code,{children:"wp"}),", and ",(0,i.jsx)(s.code,{children:"ert"})," semantics.\nThen, any ",(0,i.jsx)(s.em,{children:"wrong"})," bound on the pre can be refuted by ",(0,i.jsx)(s.em,{children:"some"})," value of ",(0,i.jsx)(s.code,{children:"k"}),".",(0,i.jsx)(s.sup,{children:(0,i.jsx)(s.a,{href:"#user-content-fn-bmc-completeness",id:"user-content-fnref-bmc-completeness","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"1"})})]}),"\n","\n",(0,i.jsxs)(s.section,{"data-footnotes":!0,className:"footnotes",children:[(0,i.jsx)(s.h2,{className:"sr-only",id:"footnote-label",children:"Footnotes"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{id:"user-content-fn-bmc-completeness",children:["\n",(0,i.jsxs)(s.p,{children:["See ",(0,i.jsx)(s.a,{href:"https://link.springer.com/chapter/10.1007/978-3-030-81688-9_25",children:(0,i.jsx)(s.em,{children:"Latticed k-Induction with an Application to Probabilistic Programs"})})," (CAV 2021) for more information on the theory of ",(0,i.jsx)(s.em,{children:"bounded model checking"})," on probabilistic programs. ",(0,i.jsx)(s.a,{href:"#user-content-fnref-bmc-completeness","data-footnote-backref":"","aria-label":"Back to reference 1",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}}}]);