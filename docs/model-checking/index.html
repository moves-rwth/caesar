<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-model-checking" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">Model Checking | Caesar</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.caesarverifier.org/img/social-card.png"><meta data-rh="true" name="twitter:image" content="https://www.caesarverifier.org/img/social-card.png"><meta data-rh="true" property="og:url" content="https://www.caesarverifier.org/docs/model-checking"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Model Checking | Caesar"><meta data-rh="true" name="description" content="Caesar can export models to the JANI format."><meta data-rh="true" property="og:description" content="Caesar can export models to the JANI format."><link data-rh="true" rel="icon" href="/img/laurel-square.svg"><link data-rh="true" rel="canonical" href="https://www.caesarverifier.org/docs/model-checking"><link data-rh="true" rel="alternate" href="https://www.caesarverifier.org/docs/model-checking" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.caesarverifier.org/docs/model-checking" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Caesar RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Caesar Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-73RDXJSM5X"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-73RDXJSM5X",{anonymize_ip:!0})</script>



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.4719a0a2.css">
<script src="/assets/js/runtime~main.d0c4d723.js" defer="defer"></script>
<script src="/assets/js/main.766d1ee1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/laurel.svg" alt="Caesar Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/laurel.svg" alt="Caesar Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Caesar</b></a><a class="navbar__item navbar__link" href="/docs/getting-started">Getting Started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/about">About</a><a class="navbar__item navbar__link" href="/blog">News</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/moves-rwth/caesar" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a class="navbar__item navbar__link" href="/docs/publications">Publications</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/getting-started/">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/heyvl/">HeyVL</a><button aria-label="Expand sidebar category &#x27;HeyVL&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/stdlib/">Standard Library</a><button aria-label="Expand sidebar category &#x27;Standard Library&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/proof-rules/">Proof Rules</a><button aria-label="Expand sidebar category &#x27;Proof Rules&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/caesar/">The Caesar Tool</a><button aria-label="Expand sidebar category &#x27;The Caesar Tool&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/model-checking">Model Checking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/devguide">Development Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/publications">Publications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/OOPSLA_AEC">OOPSLA &#x27;23 Artifact Evaluation Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/pgcl">pgcl2heyvl Frontend</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Model Checking</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Model Checking</h1></header>
<!-- -->
<p>Caesar has some support to export probabilistic programs written in (an executable fragment of) HeyVL to <a href="https://jani-spec.org/" target="_blank" rel="noopener noreferrer">the <em>jani-model</em> format</a>.
The JANI project defines exchange formats for quantitative model checking problems (and more).</p>
<p><a href="#supported-programs">Executable HeyVL programs</a> are essentially programs without verification statements, where therefore the Markov chain semantics is clearly defined and the program can be executed forwards in a step-by-step fashion.</p>
<p>After exporting HeyVL programs to JANI, we can use our favorite probabilistic model checkers to calculate and/or verify expected rewards.
For now, we have only tested with the <a href="https://www.stormchecker.org/" target="_blank" rel="noopener noreferrer">model checker <em>Storm</em></a>.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>This feature is still under development.
There are sure to be bugs and missing functionality.
The encoding is sure to change in the near future.</p></div></div>
<small><p>Note: Caesar should not be confused with the set of tools in the <a href="https://cadp.inria.fr/" target="_blank" rel="noopener noreferrer">CADP toolbox</a> by INRIA, which includes tools like CAESAR, CAESAR.ADT, or OPEN/CAESAR.
These also enable model checking of software, but are unrelated to this project.</p></small>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="usage">Usage<a href="#usage" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h2>
<p>For a simple example, consider the HeyVL program below.</p>
<div class="language-heyvl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-heyvl codeBlock_bY9V thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">@wp</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">proc</span><span class="token plain"> geo_mc(init_c: </span><span class="token builtin" style="color:rgb(72, 118, 214)">UInt</span><span class="token plain">) </span><span class="token operator" style="color:rgb(12, 150, 155)">-</span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;</span><span class="token plain"> (c: </span><span class="token builtin" style="color:rgb(72, 118, 214)">UInt</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> cont: </span><span class="token builtin" style="color:rgb(72, 118, 214)">Bool</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">post</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token operator" style="color:rgb(12, 150, 155)">!</span><span class="token plain">cont</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    c </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> init_c</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    cont </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(188, 84, 84)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">while</span><span class="token plain"> cont </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;&amp;</span><span class="token plain"> c </span><span class="token operator" style="color:rgb(12, 150, 155)">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">20</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token keyword" style="color:rgb(12, 150, 155)">var</span><span class="token plain"> prob_choice: </span><span class="token builtin" style="color:rgb(72, 118, 214)">Bool</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> flip(</span><span class="token number" style="color:rgb(170, 9, 130)">0.5</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token keyword" style="color:rgb(12, 150, 155)">if</span><span class="token plain"> prob_choice </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"> cont </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(188, 84, 84)">false</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"> c </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> c </span><span class="token operator" style="color:rgb(12, 150, 155)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">1</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="generating-jani-files">Generating JANI Files<a href="#generating-jani-files" class="hash-link" aria-label="Direct link to Generating JANI Files" title="Direct link to Generating JANI Files">​</a></h3>
<p>To export JANI files for the model checker, simply run Caesar with the <code>--jani-dir DIR</code> option to instruct it to save all translateable (co)procs to <code>.jani</code> files in the directory <code>DIR</code>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token plain">caesar example.heyvl --jani-dir DIR --no-verify</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>--no-verify</code> option tells Caesar to skip the actual verification because it is not needed for the JANI output.</p>
<p>The output JANI files will have the following structure that you can use:</p>
<ul>
<li>Properties:<!-- -->
<ul>
<li><code>reward</code>: This is the expected value of the verification conditions (cf. <a href="/docs/heyvl/statements">Statements</a>).</li>
<li><code>diverge_prob</code>: The probability of not reaching the end of the (co)proc.</li>
<li><code>can_diverge</code>: Boolean property whether the program has a path that does not reach the end of the (co)proc.<sup><a href="#user-content-fn-5" id="user-content-fnref-5" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup></li>
</ul>
</li>
<li>Constants:<!-- -->
<ul>
<li>One constant for each input variable of the (co)proc (constant has same name as variable).</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="model-checking-with-storm">Model Checking with Storm<a href="#model-checking-with-storm" class="hash-link" aria-label="Direct link to Model Checking with Storm" title="Direct link to Model Checking with Storm">​</a></h3>
<p>We use the probabilistic model checker <a href="https://www.stormchecker.org" target="_blank" rel="noopener noreferrer">Storm</a>.
Running Storm on the produced file gives us the optimal value.<sup><a href="#user-content-fn-1" id="user-content-fnref-1" data-footnote-ref="true" aria-describedby="footnote-label">2</a></sup>
Procedure inputs to are translated to JANI&#x27;s <em>constants</em>, and must be given to Storm via the flag <code>--constants init_c=0</code> (any other initial value can be chosen).</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token plain">$ storm </span><span class="token parameter variable" style="color:rgb(201, 103, 101)">--jani</span><span class="token plain"> DIR/FILE.jani </span><span class="token parameter variable" style="color:rgb(201, 103, 101)">-jprop</span><span class="token plain"> reward </span><span class="token parameter variable" style="color:rgb(201, 103, 101)">--exact</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(201, 103, 101)">--sound</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(201, 103, 101)">--constants</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(201, 103, 101)">init_c</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token number" style="color:rgb(170, 9, 130)">0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Part of the output:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token plain">Model checking property &quot;reward&quot;: R[exp]{&quot;reward&quot;}min=? [C] ...</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">Result (for initial states): 2097151/2097152 (approx. 0.9999995232)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Infinite-State Programs</div><div class="admonitionContent_BuS1"><p>Model checkers usually work with finite-state models, therefore programs with an infinite state space often just lead to nontermination of the model checker.</p><ul>
<li><strong>Bounded model checking:</strong> Since <a href="https://github.com/moves-rwth/storm/pull/521" target="_blank" rel="noopener noreferrer">PR #521</a> (nightly only), Storm can be used with a state limit so that the model generation will just stop at some number of states. Use the <code>--build:state number &lt;limit&gt;</code> command-line flag.</li>
<li><strong>Parametric models:</strong> If the program has input variables, <a href="https://www.stormchecker.org/documentation/usage/running-storm-on-parametric-models.html" target="_blank" rel="noopener noreferrer">Storm&#x27;s parametric model checking</a> may be of interest.</li>
</ul></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>In this particular case, we can obtain the optimal lower bound in Caesar by using the <a href="/docs/proof-rules/unrolling">unrolling proof rule</a>.
The annotation <code>@unroll(22, 0)</code> for unrolling depth 22 finds the fixpoint in this case.
But this is only exact if we can bound the number of loop iterations statically.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="supported-programs">Supported Programs<a href="#supported-programs" class="hash-link" aria-label="Direct link to Supported Programs" title="Direct link to Supported Programs">​</a></h2>
<p>The currently implemented translation only supports a subset of the executable fragment of HeyVL.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="supported-declarations">Supported Declarations<a href="#supported-declarations" class="hash-link" aria-label="Direct link to Supported Declarations" title="Direct link to Supported Declarations">​</a></h3>
<ul>
<li><code>proc</code> and <code>coproc</code> specifications with:<!-- -->
<ul>
<li>Inputs and output declarations,</li>
<li><code>pre</code> declarations that are only Boolean conditions of the form <code>?(b)</code>.</li>
<li><code>post</code> declarations (arbitrary operands).</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="supported-statements">Supported Statements<a href="#supported-statements" class="hash-link" aria-label="Direct link to Supported Statements" title="Direct link to Supported Statements">​</a></h3>
<p>In the body, statements:</p>
<ul>
<li><a href="/docs/heyvl/statements#blocks">Blocks</a>,</li>
<li><a href="/docs/heyvl/statements#variable-declarations">Variable declarations</a> with initializers,</li>
<li>Assignments with pure expressions,</li>
<li><a href="/docs/stdlib/distributions">Sampling from distributions</a>,</li>
<li><a href="/docs/heyvl/statements#reward-formerly-tick"><code>reward</code> statements</a>,</li>
<li>In <code>proc</code>s:<!-- -->
<ul>
<li><a href="/docs/heyvl/statements#assert-and-assume"><code>assert</code> statements</a> with Boolean condition of the form <code>assert ?(b)</code>,</li>
<li><a href="/docs/heyvl/statements#nondeterministic-choices">Binary demonic choices</a>,</li>
</ul>
</li>
<li>In <code>coproc</code>s:<!-- -->
<ul>
<li><a href="/docs/heyvl/statements#nondeterministic-choices">Binary angelic choices</a>,</li>
</ul>
</li>
<li><a href="/docs/heyvl/statements#boolean-choices">If-then-else statements</a>,</li>
<li>While loops (with least-fixed point semantics — <a href="#loop-semantics">see below for semantics details</a>),</li>
<li>Annotations, in particular <a href="/docs/proof-rules/">proof rule annotations</a>, will be ignored.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="loop-semantics">Loop Semantics<a href="#loop-semantics" class="hash-link" aria-label="Direct link to Loop Semantics" title="Direct link to Loop Semantics">​</a></h4>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>In the JANI translation, while loops are always assumed to have <strong>least fixed-point semantics</strong> when model-checking.<sup><a href="#user-content-fn-2" id="user-content-fnref-2" data-footnote-ref="true" aria-describedby="footnote-label">3</a></sup>
That means we just accumulate total expected rewards over all terminating executions in the Markov chain.
This corresponds to <a href="/docs/proof-rules/calculi">wp/ert</a> semantics.</p></div></div>
<p>Notice that in <code>proc</code>s, this is different from the default behavior of Caesar&#x27;s <a href="/docs/proof-rules/induction">proof rules such as induction</a>.
They would assume greatest fixed-point (wlp) semantics in <code>proc</code>s.
We recommend always adding the <a href="/docs/proof-rules/calculi"><code>@wp</code> or <code>@ert</code> annotations</a> to your <code>proc</code>/<code>coproc</code>.
They instruct Caesar to enforce that sound proof rules for least fixed-point semantics are being used.</p>
<p>If you want <a href="/docs/proof-rules/calculi">one-bounded wlp semantics</a> (greatest fixed-points), then you can use the generated property <code>diverge_prob</code> to obtain the probability of divergence.
Then the result should be the sum of the <code>reward</code> and <code>diverge_prob</code> properties (Storm: <code>-jprop reward,diverge_prob</code>).<sup><a href="#user-content-fn-3" id="user-content-fnref-3" data-footnote-ref="true" aria-describedby="footnote-label">4</a></sup></p>
<p>If you want <em>unbounded</em> greatest fixed-point semantics, then you can use the generated property <code>can_diverge</code> to check whether there is a diverging path.
Then the result is <code>\infty</code> if <code>can_diverge</code> is <code>true</code>, otherwise the result is <code>reward</code>.<sup><a href="#user-content-fn-4" id="user-content-fnref-4" data-footnote-ref="true" aria-describedby="footnote-label">5</a></sup>
This property is currently not supported by Storm.<sup><a href="#user-content-fn-5" id="user-content-fnref-5-2" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup></p>
<p>We intentionally avoid using the <em>reachability reward</em> properties (i.e. setting the <code>reach</code> property of <code>ExpectedValueExpression</code> in JANI) as it will assign the expected reward <code>\infty</code> to any state from which goal states are not reachable with probability 1.
If the program is not AST, then this does not correspond to either least or greatest fixpoint semantics weakest pre-expectation style semantics that we know of.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="supported-types">Supported Types<a href="#supported-types" class="hash-link" aria-label="Direct link to Supported Types" title="Direct link to Supported Types">​</a></h3>
<p>The supported types of values are:</p>
<ul>
<li><a href="/docs/stdlib/booleans"><code>Bool</code></a>,</li>
<li><a href="/docs/stdlib/numbers#uint"><code>UInt</code></a>,</li>
<li><a href="/docs/stdlib/numbers#int"><code>Int</code></a>,</li>
<li><a href="/docs/stdlib/numbers#ureal"><code>UReal</code></a>,</li>
<li><a href="/docs/stdlib/numbers#real"><code>Real</code></a>.</li>
</ul>
<p>Make sure to check in your model checker&#x27;s documentation how these types are realized.
For example, <a href="https://www.stormchecker.org" target="_blank" rel="noopener noreferrer">Storm</a> assumes 32-bit numbers by default for unbounded integer types.</p>
<p><a href="/docs/stdlib/numbers#eureal"><code>EUReal</code></a> values are currently only supported as values in <code>pre</code>/<code>post</code> declarations and in <code>assert</code> statements.
The value <code>\infty</code> cannot be explicitly represented in JANI, therefore <code>EUReal</code> expressions that go beyond the specific supported verification constructs are not supported.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="not-supported">Not Supported<a href="#not-supported" class="hash-link" aria-label="Direct link to Not Supported" title="Direct link to Not Supported">​</a></h3>
<p>In particular, the following constructs are <em>not</em> supported:</p>
<ul>
<li>Calls to uninterpreted functions or to <code>proc</code>s/<code>coproc</code>s,</li>
<li>Uninitialized variable declarations or <code>havoc</code>/<code>cohavoc</code> statements,</li>
<li>Quantitative verification statements such as <code>assume</code>/<code>assert</code> in arbitrary locations.</li>
<li><a href="/docs/heyvl/domains">User-defined domains</a>, axioms will be ignored.</li>
</ul>
<!-- -->
<section data-footnotes="true" class="footnotes"><h2 class="anchor anchorWithStickyNavbar_LWe7 sr-only" id="footnote-label">Footnotes<a href="#footnote-label" class="hash-link" aria-label="Direct link to Footnotes" title="Direct link to Footnotes">​</a></h2>
<ol>
<li id="user-content-fn-5">
<p>Storm currently does not support the qualitative analysis required for the <code>can_diverge</code> property and will throw an error. The feature is tracked in the issue <a href="https://github.com/moves-rwth/storm/issues/529" target="_blank" rel="noopener noreferrer">moves-rwth/storm#529</a>. <a href="#user-content-fnref-5" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a> <a href="#user-content-fnref-5-2" data-footnote-backref="" aria-label="Back to reference 1-2" class="data-footnote-backref">↩<sup>2</sup></a></p>
</li>
<li id="user-content-fn-1">
<p>We use the <code>--exact</code> and <code>--sound</code> flags to ensure that Storm is forced to use exact arithmetic and only sound algorithms to produce the solution. Consult your chosen model checker&#x27;s documentation to see which guarantees they give. <a href="#user-content-fnref-1" data-footnote-backref="" aria-label="Back to reference 2" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-2">
<p>We always use least-fixed point semantics because encoding greatest fixpoint/weakest <em>liberal</em> pre-expectation semantics seems to be impossible with a single JANI property right now. <a href="#user-content-fnref-2" data-footnote-backref="" aria-label="Back to reference 3" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-3">
<p><a href="https://publications.rwth-aachen.de/record/755408/files/755408.pdf#page=115" target="_blank" rel="noopener noreferrer">Corollary 4.26 of Benjamin Kaminski&#x27;s PhD thesis</a> states that (one-bounded) <code>wlp</code> can be computed via <code>wp</code> plus the probability of divergence. <a href="#user-content-fnref-3" data-footnote-backref="" aria-label="Back to reference 4" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-4">
<p>This is similar to the qualitative wlp, which evaluates to the top element of the Boolean lattice (<code>true</code>) if the loop has a possibility of nontermination. In the quantitative setting, we have <code>\infty</code> as our top element of the <a href="/docs/stdlib/numbers#eureal"><code>EUReal</code></a> lattice. <a href="#user-content-fnref-4" data-footnote-backref="" aria-label="Back to reference 5" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/moves-rwth/caesar/tree/main/website/docs/model-checking.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/caesar/benchmarks"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Benchmarks</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/devguide"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Development Guide</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#usage" class="table-of-contents__link toc-highlight">Usage</a><ul><li><a href="#generating-jani-files" class="table-of-contents__link toc-highlight">Generating JANI Files</a></li><li><a href="#model-checking-with-storm" class="table-of-contents__link toc-highlight">Model Checking with Storm</a></li></ul></li><li><a href="#supported-programs" class="table-of-contents__link toc-highlight">Supported Programs</a><ul><li><a href="#supported-declarations" class="table-of-contents__link toc-highlight">Supported Declarations</a></li><li><a href="#supported-statements" class="table-of-contents__link toc-highlight">Supported Statements</a></li><li><a href="#supported-types" class="table-of-contents__link toc-highlight">Supported Types</a></li><li><a href="#not-supported" class="table-of-contents__link toc-highlight">Not Supported</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/heyvl">HeyVL</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/stdlib">Standard Library</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/proof-rules">Proof Rules</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/moves-rwth/caesar/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Caesar Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/publications">Academic Publications</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/about">About</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">News</a></li><li class="footer__item"><a href="https://github.com/moves-rwth/caesar" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Caesar Developers. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>